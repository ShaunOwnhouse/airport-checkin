<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seat Selection - O.R. Tambo Airport</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #667eea;
        }
        
        .header h1 {
            color: #333;
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .flight-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .flight-info p {
            margin: 5px 0;
            color: #555;
        }
        
        .plane {
            background: #f0f0f0;
            border-radius: 20px;
            padding: 30px 20px;
            position: relative;
        }
        
        .cockpit {
            width: 100px;
            height: 80px;
            background: #667eea;
            margin: 0 auto 30px;
            border-radius: 50% 50% 0 0;
            position: relative;
        }
        
        .cockpit::after {
            content: '‚úà';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 30px;
            color: white;
        }
        
        .section-label {
            text-align: center;
            font-weight: bold;
            color: #667eea;
            margin: 20px 0 10px;
            font-size: 16px;
        }
        
        .row {
            display: flex;
            justify-content: center;
            margin: 8px 0;
            gap: 10px;
            position: relative;
        }
        
        .row.emergency-exit {
            border: 2px solid #f44336;
            border-radius: 5px;
            padding: 5px;
            margin: 15px 0;
            background: #ffebee;
        }
        
        .exit-label {
            position: absolute;
            left: -80px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 10px;
            color: #f44336;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .exit-label::before {
            content: 'üö™';
            font-size: 16px;
        }
        
        .row-number {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            font-weight: bold;
            color: #666;
        }
        
        .seats-left, .seats-right {
            display: flex;
            gap: 8px;
        }
        
        .aisle {
            width: 40px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .aisle::after {
            content: 'AISLE';
            font-size: 8px;
            color: #999;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            letter-spacing: 2px;
        }
        
        .seat {
            width: 45px;
            height: 45px;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: #4CAF50;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: white;
            font-weight: bold;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .seat.window::before {
            content: 'ü™ü';
            position: absolute;
            top: -18px;
            font-size: 14px;
        }
        
        .seat:hover:not(.occupied):not(.selected) {
            transform: scale(1.1);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .seat.occupied {
            background: #ccc;
            cursor: not-allowed;
            color: #666;
        }
        
        .seat.selected {
            background: #2196F3;
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.5);
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0 20px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
        }
        
        .legend-box {
            width: 30px;
            height: 30px;
            border-radius: 5px;
        }
        
        .selected-info {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: center;
        }
        
        .selected-info h3 {
            color: #1976d2;
            margin-bottom: 10px;
        }
        
        .selected-info p {
            font-size: 18px;
            color: #333;
            margin: 5px 0;
        }
        
        .btn-confirm {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 15px;
            transition: background 0.3s;
        }
        
        .btn-confirm:hover {
            background: #45a049;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚úàÔ∏è Select Your Seat</h1>
            <div class="flight-info">
                <p><strong>Flight:</strong> <span id="flightNumber">-</span></p>
                <p><strong>Route:</strong> <span id="route">-</span></p>
                <p><strong>Passenger:</strong> <span id="passengerName">-</span></p>
            </div>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-box" style="background: #4CAF50;"></div>
                <span>Available</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="background: #ccc;"></div>
                <span>Occupied</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="background: #2196F3;"></div>
                <span>Selected</span>
            </div>
            <div class="legend-item">
                <span>ü™ü = Window</span>
            </div>
            <div class="legend-item">
                <span>üö™ = Emergency Exit</span>
            </div>
        </div>
        
        <div class="plane">
            <div class="cockpit"></div>
            <div class="section-label">ECONOMY CLASS</div>
            <div id="economyClass"></div>
        </div>
        
        <div class="selected-info" id="selectedInfo" style="display: none;">
            <h3>Selected Seat</h3>
            <p id="selectedSeat">-</p>
            <p id="seatType" style="font-size: 14px; color: #666;"></p>
            <button class="btn-confirm" onclick="confirmSelection()">
                Confirm Seat Selection
            </button>
        </div>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const passenger = urlParams.get('passenger') || 'Passenger';
        const flight = urlParams.get('flight') || 'Flight';
        const route = urlParams.get('route') || 'Route';
        
        document.getElementById('flightNumber').textContent = flight;
        document.getElementById('route').textContent = route;
        document.getElementById('passengerName').textContent = passenger;
        
        let selectedSeat = null;
        let selectedSeatType = '';
        
        const economyRows = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25];
        const emergencyExitRows = [12, 13];
        const occupiedSeats = ['1A', '1F', '2C', '2D', '4A', '4F', '5B', '5E', '7A', '7F', '10C', '10D', '12A', '15F', '18B'];
        
        const economyContainer = document.getElementById('economyClass');
        economyRows.forEach(rowNum => {
            const row = document.createElement('div');
            row.className = 'row';
            
            if (emergencyExitRows.includes(rowNum)) {
                row.classList.add('emergency-exit');
                const exitLabel = document.createElement('div');
                exitLabel.className = 'exit-label';
                exitLabel.textContent = 'EXIT';
                row.appendChild(exitLabel);
            }
            
            const rowLabel = document.createElement('div');
            rowLabel.className = 'row-number';
            rowLabel.textContent = rowNum;
            row.appendChild(rowLabel);
            
            const seatsLeft = document.createElement('div');
            seatsLeft.className = 'seats-left';
            ['A', 'B', 'C'].forEach((letter, index) => {
                const seat = createSeat(rowNum, letter, index === 0, emergencyExitRows.includes(rowNum));
                seatsLeft.appendChild(seat);
            });
            row.appendChild(seatsLeft);
            
            const aisle = document.createElement('div');
            aisle.className = 'aisle';
            row.appendChild(aisle);
            
            const seatsRight = document.createElement('div');
            seatsRight.className = 'seats-right';
            ['D', 'E', 'F'].forEach((letter, index) => {
                const seat = createSeat(rowNum, letter, index === 2, emergencyExitRows.includes(rowNum));
                seatsRight.appendChild(seat);
            });
            row.appendChild(seatsRight);
            
            economyContainer.appendChild(row);
        });
        
        function createSeat(row, letter, isWindow, isEmergencyExit) {
            const seat = document.createElement('div');
            const seatId = row + letter;
            seat.className = 'seat';
            
            if (isWindow) {
                seat.classList.add('window');
            }
            
            seat.textContent = seatId;
            
            if (occupiedSeats.includes(seatId)) {
                seat.classList.add('occupied');
            } else {
                seat.onclick = () => selectSeat(seatId, seat, isWindow, isEmergencyExit);
            }
            
            return seat;
        }
        
        function selectSeat(seatId, seatElement, isWindow, isEmergencyExit) {
            document.querySelectorAll('.seat.selected').forEach(s => {
                s.classList.remove('selected');
            });
            
            seatElement.classList.add('selected');
            selectedSeat = seatId;
            
            let seatTypeDesc = [];
            if (isWindow) seatTypeDesc.push('Window Seat');
            if (!isWindow && seatId.includes('B') || seatId.includes('E')) seatTypeDesc.push('Aisle Seat');
            if (!isWindow && seatId.includes('C') || seatId.includes('D')) seatTypeDesc.push('Middle Seat');
            if (isEmergencyExit) seatTypeDesc.push('Emergency Exit Row (Extra Legroom)');
            
            selectedSeatType = seatTypeDesc.join(' ‚Ä¢ ');
            
            const selectedInfo = document.getElementById('selectedInfo');
            selectedInfo.style.display = 'block';
            document.getElementById('selectedSeat').textContent = 'Seat ' + seatId;
            document.getElementById('seatType').textContent = selectedSeatType;
        }
        
        function confirmSelection() {
            if (!selectedSeat) {
                alert('Please select a seat first');
                return;
            }
            
            alert('‚úÖ Seat ' + selectedSeat + ' confirmed!\n' + selectedSeatType + '\n\nYou can now return to the chat and type "done" to continue.');
        }
    </script>
</body>
</html>
